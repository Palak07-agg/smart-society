{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'./Register.css';// Optional CSS for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[username,setUsername]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[houseNumber,setHouseNumber]=useState('');const[ownership,setOwnership]=useState('Owned');// or 'Rented'\nconst handleRegister=async e=>{e.preventDefault();try{const response=await axios.post('http://localhost:5000/api/auth/register',{username,email,password,houseNumber,ownership});if(response.data.token){localStorage.setItem('token',response.data.token);alert('✅ Registered successfully!');navigate('/dashboard');}else{alert('❌ Registration failed: No token received');}}catch(error){var _error$response;console.error('❌ Registration Error:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);alert('Server error during registration. Check console for details.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,required:true,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,required:true,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Flat/House Number\",value:houseNumber,onChange:e=>setHouseNumber(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"select\",{value:ownership,onChange:e=>setOwnership(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Owned\",children:\"Owned\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rented\",children:\"Rented\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,required:true,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{onClick:()=>navigate('/login'),className:\"link\",children:\"Login here\"})]})]});};export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","navigate","username","setUsername","email","setEmail","password","setPassword","houseNumber","setHouseNumber","ownership","setOwnership","handleRegister","e","preventDefault","response","post","data","token","localStorage","setItem","alert","error","_error$response","console","message","className","children","onSubmit","type","placeholder","value","required","onChange","target","onClick"],"sources":["C:/Users/Dell/Desktop/smart-society/frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Register.css'; // Optional CSS for styling\r\n\r\nconst Register = () => {\r\n  const navigate = useNavigate();\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\nconst [houseNumber, setHouseNumber] = useState('');\r\nconst [ownership, setOwnership] = useState('Owned'); // or 'Rented'\r\n\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/auth/register', {\r\n        username,\r\n        email,\r\n        password, houseNumber,\r\n      ownership\r\n      });\r\n\r\n      if (response.data.token) {\r\n        localStorage.setItem('token', response.data.token);\r\n        alert('✅ Registered successfully!');\r\n        navigate('/dashboard');\r\n      } else {\r\n        alert('❌ Registration failed: No token received');\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('❌ Registration Error:', error.response?.data || error.message);\r\n      alert('Server error during registration. Check console for details.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"register-container\">\r\n      <h2>Register</h2>\r\n      <form onSubmit={handleRegister}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          value={username}\r\n          required\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          required\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n<input\r\n  type=\"text\"\r\n  placeholder=\"Flat/House Number\"\r\n  value={houseNumber}\r\n  onChange={(e) => setHouseNumber(e.target.value)}\r\n  required\r\n/>\r\n\r\n<select value={ownership} onChange={(e) => setOwnership(e.target.value)} required>\r\n  <option value=\"Owned\">Owned</option>\r\n  <option value=\"Rented\">Rented</option>\r\n</select>\r\n\r\n\r\n\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          required\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n\r\n        <button type=\"submit\">Register</button>\r\n      </form>\r\n      <p>Already have an account? <span onClick={() => navigate('/login')} className=\"link\">Login here</span></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}